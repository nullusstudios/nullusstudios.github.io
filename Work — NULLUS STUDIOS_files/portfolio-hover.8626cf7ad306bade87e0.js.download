(window.wpJsonpTemplateSections=window.wpJsonpTemplateSections||[]).push([[12],{133:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return l}));n(0),n(6);var r=n(5);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a=function(t){if(!t)return 1;if(!t.dataset.imageDimensions)return 1;var e=t.dataset.imageDimensions.split("x");return e[0]&&e[1]?+e[0]/+e[1]:void 0},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(t<=e)return t;var n=window.innerWidth;return n<=r.g.sm?Math.max(e,Math.round(.25*t)):n<=r.g.md?Math.max(e,Math.round(.5*t)):n<=r.g.lg?Math.max(e,Math.round(.75*t)):t},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=window.innerWidth,n=Math.max(1,t);return e<=r.g.sm?t>1?2:1:e<=r.g.md?Math.ceil(.5*n):e<=r.g.lg?Math.ceil(.75*n):n},c=function(t){var e={width:0,height:0};if(!t)return e;if(!t.dataset.imageDimensions)return e;var n=o(t.dataset.imageDimensions.split("x"),2),r=n[0],i=n[1];return r&&i?{width:+r,height:+i}:e},l=function(t){var e={x:.5,y:.5};if(!t)return e;if(!t.dataset.imageFocalPoint)return e;var n=o(t.dataset.imageFocalPoint.split(","),2),r=n[0],i=n[1];return r&&i?{x:+r,y:+i}:e}},169:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a}));var r=function(t,e,n){return t*(1-n)+e*n},o=function(t,e){var n;for(n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1},i=function(t,e,n){var r=o(n,t),i=t[r],a=t[r+1],u=e[r];return(n-i)/(a-i)*(e[r+1]-u)+u},a=function(t,e,n,r){var o=e[t],i=e[t+1],a=n[t],u=n[t+1],s=(r-o)/(i-o);return 1===n.length?a:s*(u-a)+a}},205:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(2),o=n(169),i=n(37);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(a,t);var e,n,r,i=c(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),m(f(e=i.call(this,t)),"tick",(function(){var t=e.props,n=t.ease,r=t.from,i=t.to,a=t.duration,u=t.onUpdate,s=t.onComplete,c=Date.now()-e.lastUpdate;e.lastUpdate+=c,e.time=(e.lastUpdate-e.startTime)/1e3,e.time>a&&(e.time=a),u(Object(o.b)(r,i,n(e.time/a))),e.time>=a?s(i):requestAnimationFrame(e.tick)}));var n=e.props.autoStart;return e.state={isActive:!1},e.startTime=null,e.lastUpdate=null,e.frame=null,n&&e.start(),e}return e=a,(n=[{key:"start",value:function(){this.state.isActive||(this.setState({isActive:!0}),this.startTime=Date.now(),this.lastUpdate=this.startTime,this.frame=requestAnimationFrame(this.tick))}},{key:"destroy",value:function(){cancelAnimationFrame(this.frame)}}])&&u(e.prototype,n),r&&u(e,r),a}(r.a);m(d,"defaultProps",{autoStart:!0,ease:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return-n*(t/=r)*(t-2)+e},duration:1,from:0,to:0,onUpdate:i.a,onComplete:i.a})},302:function(t,e,n){"use strict";e.a=function(t,e,n){return t<e?e:t>n?n:t}},653:function(t,e,n){"use strict";n.r(e),n.d(e,"PortfolioHover",(function(){return At}));n(0);var r=n(20),o=n(617),i=n(618),a=n(6),u=n.n(a),s=n(5),c=n(2),l=n(34),f=function(t){return t.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map((function(t){return t.toLowerCase()})).join("-")},h=n(39),m=n(133);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(i,t);var e,n,r,o=v(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),S(b(n=o.call(this,e)),"onResize",(function(){})),S(b(n),"setImage",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Date.now()-n.last,o=r>=n.animationDuration,i=e||!n.animationDuration?0:o?100:Math.max(0,n.animationDuration-r);clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout),clearTimeout(n.imageAnimatingTimeout),n.onSetImage(t,e),t!==n.currentIndex&&(n.showImageTimeout=setTimeout((function(){n.isPersistImages||n.hideImages(),n.showImage(t,e),n.last=Date.now()}),i))})),S(b(n),"unset",(function(){clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout),n.onUnset(),n.hideImageTimeout=setTimeout((function(){n.hideImages()}),n.isHideDelayed?n.animationDuration:0)})),S(b(n),"onSetImage",(function(){})),S(b(n),"onUnset",(function(){})),S(b(n),"onShowImage",(function(){})),S(b(n),"onImageShown",(function(){})),S(b(n),"onHide",(function(){})),S(b(n),"onDestroy",(function(){})),S(b(n),"destroy",(function(){n.onDestroy(),clearTimeout(n.activeTimeout),clearTimeout(n.imageAnimatingTimeout),clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout)}));var r=n.props,a=r.items,u=r.imageSelector;n.itemLen=a.length,n.itemDimensions=n.getItemDimensions(a),n.last=null,n.currentIndex=-1,n.lastIndex=-1,n.animationDuration=600,n.isHideDelayed=!1,n.isPersistImages=!0,n.node=t,n.node.dataset.active=!1;for(var s=0,c=a.length;s<c;s+=1)a[s].dataset.active=null,a[s].dataset.animated=null,a[s].querySelector(u).style.transitionDuration=null;return n.showImageTimeout=null,n.activeTimeout=null,n.hideImageTimeout=null,n}return e=i,(n=[{key:"getItemDimensions",value:function(t){return t.map((function(t){var e=t.querySelector("img");return Object(m.c)(e)}))}},{key:"showImage",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.items;r[t].dataset.active=!1,r[t].dataset.animated=!n,r[t].parentNode.appendChild(r[t]),this.currentIndex=t,this.onShowImage(t,n),clearTimeout(this.activeTimeout),this.activeTimeout=setTimeout((function(){r[t].dataset.active=!0,e.onImageShown()}),n||!this.animationDuration?0:25),this.lastIndex=t}},{key:"hideImages",value:function(){var t=this.props.items;clearTimeout(this.activeTimeout),this.onHide();for(var e=0,n=t.length;e<n;e+=1)t[e].dataset.active=!1,e!==this.currentIndex&&(t[e].dataset.animated=!1);this.currentIndex=-1}}])&&p(e.prototype,n),r&&p(e,r),i}(c.a);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?A(t):e}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}S(O,"defaultProps",{items:[]});var x={medium:600,fast:300,slow:900},R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(i,t);var e,n,r,o=j(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),z(A(n=o.call(this,t,e)),"onDestroy",(function(){}));var r=n.props.animationDuration;return n.animationDuration=x[r],n.isHideDelayed=!1,n.reset(),n}return e=i,(n=[{key:"reset",value:function(){for(var t=this.props,e=t.items,n=t.imageSelector,r=0,o=e.length;r<o;r+=1)e[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}}])&&I(e.prototype,n),r&&I(e,r),i}(O);z(R,"defaultProps",{items:[],imageSelector:".portfolio-hover-bg-img",animationDuration:"medium"});var _=n(208),E=n.n(_),H=n(35),L=n(205),W=n(169),M=n(302),F=function(t,e,n,r){var o=Math.min(t/n,e/r);return{width:n*o,height:r*o}};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Y(t);if(e){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?V(t):e}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J={fast:300,medium:600,slow:900},X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(i,t);var e,n,r,o=N(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Z(V(n=o.call(this,t,e)),"onSetImage",(function(t){n.node.dataset.active=!0,n.startFollowing(t)})),Z(V(n),"onShowImage",(function(t){var e=n.state,r=e.width,o=e.height;n.resizeAnim.last=n.itemDimensions[n.lastIndex]||{width:r,height:o},n.resizeAnim.current=n.itemDimensions[t];var i=-1!==n.lastIndex;n.resizeImages(r,o),n.updateRatio(r,o,n.resizeAnim.current),n.resizeWrapper(i,n.resizeAnim.current.worldWidth,n.resizeAnim.current.worldHeight)})),Z(V(n),"onUnset",(function(){n.stopFollowing(),n.node.dataset.active=!1})),Z(V(n),"onScroll",(function(){var t=n.props.container.getBoundingClientRect();n.pos.target.offsetY=t.top})),Z(V(n),"onResize",(function(t,e){var r=n.node.clientWidth,o=n.node.clientHeight;n.setState({width:r,height:o,halfWidth:.5*r,halfHeight:.5*o,regionWidth:t,regionHeight:e}),n.resizeImages(r,o),n.updatePosition()})),Z(V(n),"onEnter",(function(t){if(!n.state.isCursorActive){var e=n.props.rootNode,r=Object(H.d)(t),o=r.clientX,i=r.clientY;n.setTargetPosition(o,i),n.setState({isCursorActive:!0}),e.addEventListener(H.a.move,n.onMove)}})),Z(V(n),"onMove",(function(t){var e=Object(H.d)(t),r=e.clientX,o=e.clientY;n.setTargetPosition(r,o)})),Z(V(n),"onLeave",(function(){var t=n.props.rootNode;n.state.isCursorActive&&(n.setState({isCursorActive:!1}),t.removeEventListener(H.a.move,n.onMove))})),Z(V(n),"tick",(function(){n.updatePosition(),n.frame=requestAnimationFrame(n.tick)})),Z(V(n),"onDestroy",(function(){n.tween&&n.tween.destroy(),n.tween=null,n.unbindListeners(),cancelAnimationFrame(n.frame),clearTimeout(n.stopFollowingTimeout)}));var r=n.props,a=r.containerSelector,u=r.animationDuration,s=r.modeFollowSize,c=r.modeFollowAcceleration;return n.state={acceleration:.01*c,width:0,height:0,halfWidth:0,halfHeight:0,regionWidth:800,regionHeight:600,isCursorActive:!1,last:Date.now()},n.node.style.width="".concat(s,"vmin"),n.node.style.height="".concat(s,"vmin"),n.animationDuration=J[u],n.isPersistImages=!1,n.stopFollowingTimeout=null,n.reset(),n.pos={x:0,y:0,target:{x:0,y:0,offsetY:0}},n.tween=null,n.resizeAnim={value:0,last:{width:100,height:100,worldWidth:100,worldHeight:100},current:{width:100,height:100,worldWidth:100,worldHeight:100}},n.ref={container:n.node.querySelector(a)},n.frame=null,n.onDebounceScroll=Object(h.a)(n.onScroll,250),n.bindListeners(),n}return e=i,(n=[{key:"reset",value:function(){var t=this.props,e=t.items,n=t.imageSelector;this.node.style.transitionDuration=this.animationDuration+"ms";for(var r=0,o=e.length;r<o;r+=1)e[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}},{key:"startFollowing",value:function(t){-1===this.currentIndex&&(this.pos.x=this.pos.target.x,this.pos.y=this.pos.target.y),clearTimeout(this.stopFollowingTimeout),cancelAnimationFrame(this.frame),this.frame=requestAnimationFrame(this.tick),this.updatePosition()}},{key:"stopFollowing",value:function(){var t=this;clearTimeout(this.stopFollowingTimeout),this.stopFollowingTimeout=setTimeout((function(){cancelAnimationFrame(t.frame)}),this.animationDuration)}},{key:"bindListeners",value:function(){var t=this,e=this.props.rootNode;E.a.on(this.onDebounceScroll),e.addEventListener(H.a.enter,this.onEnter),H.a.leave.forEach((function(n){return e.addEventListener(n,t.onLeave)})),this.onScroll()}},{key:"unbindListeners",value:function(){var t=this,e=this.props.rootNode;E.a.off(this.onDebounceScroll),e.removeEventListener(H.a.enter,this.onEnter),e.removeEventListener(H.a.move,this.onMove),H.a.leave.forEach((function(n){return e.removeEventListener(n,t.onLeave)}))}},{key:"resizeImages",value:function(t,e){for(var n=this.props.items,r=0;r<this.itemLen;r+=1){var o=n[r],i=this.itemDimensions[r],a=F(t,e,i.width,i.height);o.style.width="".concat(a.width,"px"),o.style.height="".concat(a.height,"px")}this.updateRatio(t,e,this.resizeAnim.last),this.updateRatio(t,e,this.resizeAnim.current),this.updateWrapper(t,e)}},{key:"updateRatio",value:function(t,e,n){var r=Math.min(t/n.width,e/n.height);n.worldWidth=n.width*r,n.worldHeight=n.height*r}},{key:"resizeWrapper",value:function(t,e,n){var r=this;this.tween&&(this.tween.destroy(),this.tween=null),t?this.tween=new L.a({duration:.001*this.animationDuration,from:0,to:1,onUpdate:function(t){r.resizeAnim.value=t,r.updateWrapper()},onComplete:function(){r.resizeAnim.value=1,r.updateWrapper()}}):this.updateWrapper(e,n)}},{key:"updateWrapper",value:function(t,e){var n=this.props.wrapper;if(t&&e)return n.style.width="".concat(t,"px"),void(n.style.height="".concat(e,"px"));var r=this.resizeAnim.value,o=Object(W.b)(this.resizeAnim.last.worldWidth,this.resizeAnim.current.worldWidth,r),i=Object(W.b)(this.resizeAnim.last.worldHeight,this.resizeAnim.current.worldHeight,r);n.style.width="".concat(o,"px"),n.style.height="".concat(i,"px")}},{key:"setTargetPosition",value:function(t,e){this.pos.target.x=t,this.pos.target.y=e}},{key:"updatePosition",value:function(){var t=this.state,e=t.acceleration,n=t.regionHeight,r=t.height,o=t.halfWidth,i=t.halfHeight,a=this.pos.target.x,u=this.pos.target.y+-this.pos.target.offsetY;this.pos.x+=(a-this.pos.x)*e,this.pos.y+=(u-this.pos.y)*e;var s=this.pos.x-o,c=Object(M.a)(this.pos.y-i,0,n-r);this.node.style.transform="translate3d("+s+"px, "+c+"px, 0)"}}])&&q(e.prototype,n),r&&q(e,r),i}(O);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nt(t);if(e){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?et(t):e}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Z(X,"defaultProps",{rootNode:document.createElement("div"),container:document.createElement("div"),wrapper:document.createElement("div"),items:[],animationDuration:"medium",containerSelector:".portfolio-hover-backgrounds-wrapper",imageSelector:".portfolio-hover-bg-img",modeFollowSize:75,modeFollowAcceleration:10});var ot={fast:300,medium:600,slow:900},it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(i,t);var e,n,r,o=Q(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),rt(et(n=o.call(this,t,e)),"onSetImage",(function(t){n.node.dataset.active=!0})),rt(et(n),"onShowImage",(function(t){var e=n.state,r=e.width,o=e.height;n.resizeAnim.last=n.itemDimensions[n.lastIndex]||{width:r,height:o},n.resizeAnim.current=n.itemDimensions[t];var i=-1!==n.lastIndex;n.resizeImages(r,o),n.updateRatio(r,o,n.resizeAnim.current),n.resizeWrapper(i,n.resizeAnim.current.worldWidth,n.resizeAnim.current.worldHeight)})),rt(et(n),"onUnset",(function(){n.node.dataset.active=!1})),rt(et(n),"onResize",(function(t,e){var r=n.node.clientWidth,o=n.node.clientHeight;n.setState({width:r,height:o,halfWidth:.5*r,halfHeight:.5*o,regionWidth:t,regionHeight:e}),n.resizeImages(r,o)})),rt(et(n),"onDestroy",(function(){n.tween&&n.tween.destroy(),n.tween=null}));var r=n.props,a=r.containerSelector,u=r.animationDuration,s=r.modeOriginalSize;return n.state={width:0,height:0,halfWidth:0,halfHeight:0,regionWidth:800,regionHeight:600},n.node.style.width=s+"vmin",n.node.style.height=s+"vmin",n.animationDuration=ot[u],n.isPersistImages=!1,n.reset(),n.tween=null,n.resizeAnim={value:0,last:{width:100,height:100,worldWidth:100,worldHeight:100},current:{width:100,height:100,worldWidth:100,worldHeight:100}},n.ref={container:n.node.querySelector(a)},n}return e=i,(n=[{key:"reset",value:function(){var t=this.props,e=t.items,n=t.imageSelector;this.node.style.transitionDuration=this.animationDuration+"ms";for(var r=0,o=e.length;r<o;r+=1)e[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}},{key:"resizeImages",value:function(t,e){for(var n=this.props.items,r=0;r<this.itemLen;r+=1){var o=F(t,e,this.itemDimensions[r].width,this.itemDimensions[r].height);n[r].style.width="".concat(o.width,"px"),n[r].style.height="".concat(o.height,"px")}this.updateRatio(t,e,this.resizeAnim.last),this.updateRatio(t,e,this.resizeAnim.current),this.updateWrapper(t,e)}},{key:"updateRatio",value:function(t,e,n){var r=Math.min(t/n.width,e/n.height);n.worldWidth=n.width*r,n.worldHeight=n.height*r}},{key:"resizeWrapper",value:function(t,e,n){var r=this;this.tween&&(this.tween.destroy(),this.tween=null),t?this.tween=new L.a({duration:.001*this.animationDuration,from:0,to:1,onUpdate:function(t){r.resizeAnim.value=t,r.updateWrapper()},onComplete:function(){r.resizeAnim.value=1,r.updateWrapper()}}):this.updateWrapper(e,n)}},{key:"updateWrapper",value:function(t,e){var n=this.props.wrapper;if(t&&e)return n.style.width="".concat(t,"px"),void(n.style.height="".concat(e,"px"));var r=this.resizeAnim.value,o=Object(W.b)(this.resizeAnim.last.worldWidth,this.resizeAnim.current.worldWidth,r),i=Object(W.b)(this.resizeAnim.last.worldHeight,this.resizeAnim.current.worldHeight,r);n.style.width="".concat(o,"px"),n.style.height="".concat(i,"px")}}])&&G(e.prototype,n),r&&G(e,r),i}(O);rt(it,"defaultProps",{wrapper:document.createElement("div"),items:[],animationDuration:"medium",imageSelector:".portfolio-hover-bg-img",containerSelector:".portfolio-hover-backgrounds-wrapper",modeOriginalSize:75});var at={"hover-cover":{Class:R,canPersist:!0},"hover-follow":{Class:X,canPersist:!1},"hover-static":{Class:it,canPersist:!0}},ut=n(37);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dt(t);if(e){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(t,e){return!e||"object"!==st(e)&&"function"!=typeof e?mt(t):e}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(i,t);var e,n,r,o=ft(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),pt(mt(n=o.call(this,e)),"onItemOver",(function(){var t=n.props,e=t.index,r=t.onItemOver,o=t.onItemTouchStart;H.c?o(event,e):r(e)})),pt(mt(n),"onItemOut",(function(){var t=n.props,e=t.index;(0,t.onItemOut)(e)})),pt(mt(n),"activate",(function(t){n.state.isActive||(n.setState({isActive:!0}),n.node.dataset.active=!0)})),pt(mt(n),"deactivate",(function(t){n.state.isActive&&(n.setState({isActive:!1}),n.node.dataset.active=!1)})),pt(mt(n),"destroy",(function(){n.unbindListeners()}));var r=n.props.imageMaskSelector;return n.state={isActive:!1},n.node=t,n.ref={imageMask:n.node.querySelector(r)},n.bindListeners(),n}return e=i,(n=[{key:"bindListeners",value:function(){var t=this;this.node.addEventListener(H.a.enter,this.onItemOver),this.node.addEventListener("touchstart",(function(e,n){t.onItemTouchStart(e,n)})),H.a.leave.forEach((function(e){t.node.addEventListener(e,t.onItemOut)}))}},{key:"unbindListeners",value:function(){var t=this;this.node.removeEventListener(H.a.enter,this.onItemOver),this.node.removeEventListener("touchstart",this.onItemTouchEnd),H.a.leave.forEach((function(e){t.node.removeEventListener(e,t.onItemOut)}))}}])&&ct(e.prototype,n),r&&ct(e,r),i}(c.a);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){Dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jt(t);if(e){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return It(this,n)}}function It(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?Pt(t):e}function Pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}pt(yt,"defaultProps",{index:0,titleSelector:".portfolio-hover-item-title",contentSelector:".portfolio-hover-item-content",imageMaskSelector:".portfolio-hover-item-background-mask",onItemOver:ut.a,onItemOut:ut.a,onItemTouchStart:ut.a});var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(m,t);var e,n,a,c=kt(m);function m(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),Dt(Pt(e=c.call(this)),"parseTweak",{animation:function(t){return f(t)},animationDuration:function(t){return f(t)},delimiter:function(t){return f(t)},height:function(t){return f(t)},horizontalAlign:function(t){return f(t)},layout:function(t){return f(t)},modeFollowAcceleration:function(t){return parseFloat(t,10)},modeFollowSize:function(t){return Number(t)},modeOriginalSize:function(t){return Number(t)},persistSelection:function(t){return"true"===t},selectionInFront:function(t){return"true"===t},spacingHorizontal:function(t){return parseFloat(t,10)},spacingVertical:function(t){return parseFloat(t,10)},verticalAlign:function(t){return f(t)},width:function(t){return f(t)}}),Dt(Pt(e),"parseTweaks",(function(){return Object.keys(e.tweaks.map).reduce((function(t,n){var r=e.tweaks.map[n],o=u.a.getValue(n);return void 0!==o&&(t[r]=e.parseTweak[r]?e.parseTweak[r](o):o),t}),{})})),Dt(Pt(e),"onItemOver",(function(t){return e.setItem(t)})),Dt(Pt(e),"onItemTouchStart",(function(t,n){e.setItem(n)})),Dt(Pt(e),"onItemOut",(function(t){return e.unsetItem(t)})),Dt(Pt(e),"setItem",(function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0;r<e.itemLen;r+=1)t!==r?e.items[r].deactivate():(e.items[r].activate(),e.imageMode.setImage(r,n));e.setState({lastIndex:t,isHover:!0})})),Dt(Pt(e),"unsetItem",(function(t){for(var n=e.state,r=n.persistSelection,o=n.mode,i=n.lastIndex,a=r&&e.checkIsPersistCapable(o),u=0;u<e.itemLen;u+=1)a&&i===u?e.items[u].activate():e.items[u].deactivate();e.setState({isHover:!1});var s=i;a?e.imageMode.setImage(s,!1,!0):e.imageMode.unset()})),Dt(Pt(e),"checkIsPersistCapable",(function(t){return at[t].canPersist})),Dt(Pt(e),"loadImages",(function(){l.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},e.node)})),Dt(Pt(e),"onResize",(function(){var t=window.innerHeight,n=e.ref.items.clientHeight,r=wt(wt({},e.state),{windowHeight:t,itemsHeight:n});e.setState(wt({},r)),e.refreshDataset(r),e.refreshMode(r),e.refreshPersist();var o=e.node.clientWidth,i=Math.min(window.innerHeight,e.node.clientHeight);e.baseSticky&&e.baseSticky.refresh(),e.imageMode&&e.imageMode.onResize(o,i),e.loadImages()})),Dt(Pt(e),"onRulerResize",(function(t){e.node.style.minHeight=t+"px",e.baseSticky&&e.baseSticky.refresh()})),Dt(Pt(e),"destroy",(function(){var t,n;e.isDestroyed=!0,e.unbindListeners(),null===(t=e.ruler)||void 0===t||t.destroy(),e.ruler=null,null===(n=e.baseSticky)||void 0===n||n.destroy(),e.baseSticky=null,e.imageMode&&(e.imageMode.destroy(),e.imageMode=null);for(var r=0;r<e.itemLen;r+=1)e.items[r].destroy();e.items=[],e.itemLen=0}));var n=e.props,r=n.baseStickySelector,a=n.itemsSelector,s=n.listSelector,d=n.itemSelector,p=n.backgroundsSelector,y=n.itemBackgroundSelector,v=n.backgroundsWrapperSelector,g=n.backgroundSelector;t.dataset.init=!0;var b=wt({tweaks:{}},t.dataset.props?JSON.parse(t.dataset.props):{});return e.tweaks=Object.keys(b.tweaks).reduce((function(t,e){var n=b.tweaks[e];return t.watch.push(n),t.map[n]=e,t}),{watch:[],map:{}}),e.state=wt(wt(wt({animation:"scale-up",animationDuration:"medium",customHeight:100,delimiter:"comma",height:"large",horizontalAlign:"center",layout:"inline",mode:"background",modeBackgroundLayout:"cover",modeFollowAcceleration:10,modeFollowSize:60,modeOriginalSize:75,persistSelection:!1,selectionInFront:!1,spacingHorizontal:.3,spacingVertical:.6,verticalAlign:"center",width:"full-bleed"},b),e.parseTweaks()),{},{isHover:!1,itemsHeight:0,lastIndex:0,windowHeight:0}),t.dataset.stackedLayout=e.state.stackedLayout,e.node=t,e.ref={items:e.node.querySelector(a),list:e.node.querySelector(s),backgrounds:e.node.querySelector(p),itemBackground:Array.from(e.node.querySelectorAll(y)),backgroundsWrapper:e.node.querySelector(v),background:Array.from(e.node.querySelectorAll(g))},e.baseStickyNode=e.node.querySelector(r),e.items=Array.from(e.node.querySelectorAll(d)).map((function(t,n){return new yt(t,{index:n,spacingHorizontal:e.state.spacingHorizontal,spacingVertical:e.state.spacingVertical,onItemOver:e.onItemOver,onItemOut:e.onItemOut,onItemTouchStart:e.onItemTouchStart})})),e.itemLen=e.items.length,e.imageMode=null,e.progress=0,e.onDebouncedResize=Object(h.a)(e.onResize,100),e.refreshDataset(e.state),e.refreshMode(e.state,!0),e.baseSticky=new o.a(e.baseStickyNode,{forceFixed:!1}),e.ruler=new i.a({onResize:e.onRulerResize}),e.bindListeners(),e.state.persistSelection&&e.checkIsPersistCapable(e.state.mode)&&e.setItem(e.state.lastIndex,!0),e}return e=m,(n=[{key:"bindListeners",value:function(){window.addEventListener(s.a,this.onResize),r.a.on(this.onDebouncedResize),this.onResize()}},{key:"unbindListeners",value:function(){window.removeEventListener(s.a,this.onResize),r.a.off(this.onDebouncedResize)}},{key:"refreshPersist",value:function(){this.unsetItem(-1)}},{key:"refreshDataset",value:function(t){this.node.dataset.layout=t.layout,this.node.dataset.delimiter=t.delimiter,this.node.dataset.activeItemFront=t.selectionInFront,this.node.dataset.mode=t.mode,this.node.dataset.width=t.width,this.node.dataset.height=t.height,this.node.dataset.customHeight=t.customHeight,this.node.dataset.verticalAlign=t.verticalAlign,this.node.dataset.horizontalAlign=t.horizontalAlign,this.node.dataset.modeBackgroundLayout=t.modeBackgroundLayout,this.node.dataset.animation=t.animation,this.node.dataset.animationDuration=t.animationDuration}},{key:"refreshMode",value:function(t){var e=t.mode,n=gt(t,["mode"]);if(!at[e])throw new Error('Mode of mode "'.concat(e,'" does not exist'));this.imageMode&&(this.imageMode.destroy(),this.imageMode=null),this.imageMode=new at[e].Class(this.ref.backgrounds,wt(wt({},n),{},{rootNode:this.node,container:this.baseStickyNode,wrapper:this.ref.backgroundsWrapper,items:this.ref.background,secondaryItems:this.ref.itemBackground}))}}])&&St(e.prototype,n),a&&St(e,a),m}(c.a);Dt(At,"defaultProps",{baseStickySelector:".portfolio-hover-base-sticky",itemsSelector:".portfolio-hover-items",listSelector:".portfolio-hover-items-list",itemSelector:".portfolio-hover-item",itemBackgroundSelector:".portfolio-hover-item-background-wrapper",backgroundsSelector:".portfolio-hover-backgrounds",backgroundsWrapperSelector:".portfolio-hover-backgrounds-wrapper",backgroundSelector:".portfolio-hover-bg"});e.default=function(t){return new At(t)}}}]);